(function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var a=typeof require=="function"&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}var o=typeof require=="function"&&require;for(var u=0;u<r.length;u++)i(r[u]);return i})({1:[function(e,t,n){"use strict";var r=e("assert");var i=e("./network.js");var o="https://oneidentity.me";var u='\n    <div id="oneidentity-plugin-cover"></div>\n    <iframe id="oneidentity-plugin-iframe" src="about:blank">\n    </iframe>\n';var s="\n    #oneidentity-plugin-cover {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.1);\n        z-index: 100;\n    }\n\n    #oneidentity-plugin-iframe {\n        position: fixed;\n        width: 90%;\n        max-width: 512px;\n        height: 90%;\n        max-height: 768px;\n        background-color: #FFFFFF;\n        color: #000000;\n        font-family: arial;\n        z-index: 101;\n        border: none;\n        box-shadow: 0 0 10px rgba(63, 81, 181, 0.3);\n        -webkit-box-shadow: 0 0 10px rgba(63, 81, 181, 0.3);\n    }\n";var a=null;var f=null;var l=null;var c=0;var p="";function d(e){return window.btoa(unescape(encodeURIComponent(e)))}function g(e,t){if(!t){t=window.location.href}e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);if(!r)return null;if(!r[2])return"";return decodeURIComponent(r[2].replace(/\+/g," "))}function y(e,t){if(!e){if(e===undefined){return getClientToken().then(function(e){return y(e,t)})}else{return alert("ç™»å½•å¤±è´¥ã€‚")}}a.innerHTML="";document.body.removeChild(f);f=null;t(e)}function h(e){return function(t){return y(t,e)}}function m(e){return new Promise(function(t,n){var r=window.open(o+"/web/?reqId="+encodeURIComponent(e)+"#recheck");var i=setInterval(function(){if(r.closed){clearInterval(i);t()}},500)})}function v(e){a=e;return new Promise(function(e,t){a.innerHTML=u;if(f){document.body.removeChild(f)}f=document.createElement("link");f.rel="stylesheet";f.href="data:text/css;base64,"+d(s);document.body.appendChild(f);var n=document.getElementById("oneidentity-plugin-iframe");n.style.top=(window.innerHeight/2-n.scrollHeight/2).toString()+"px";n.style.left=(window.innerWidth/2-n.scrollWidth/2).toString()+"px";var r=window.location.href;document.getElementById("oneidentity-plugin-iframe").src=o+"/web/?hideHeader=true&callback="+encodeURIComponent(r)+"#auth";var i=setInterval(function(){if(sessionStorage.oneidentityClientToken){var t=sessionStorage.oneidentityClientToken;delete sessionStorage.oneidentityClientToken;clearInterval(i);h(e)(t)}},500)})}function b(){var e=g("client_token");if(e){sessionStorage.oneidentityClientToken=e;window.location.replace("about:blank")}}function w(){}window.oneidentity={login:v,recheck:m};b();window.addEventListener("load",w)},{"./network.js":2,assert:6}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.makeRequest=i;function i(e,t,n,i){return new Promise(function(o,u){var s=new XMLHttpRequest;s.open(e,t,true);s.withCredentials=true;if(i){for(var a in i){s.setRequestHeader(a,i[a])}}s.onreadystatechange=function(){if(s.readyState==s.DONE){if(s.status<200||s.status>=300){u(s.responseText)}else{o(s.responseText)}}};if(n){if((typeof n==="undefined"?"undefined":r(n))=="object"){var f="";Object.keys(n).forEach(function(e){f+=encodeURIComponent(e)+"="+encodeURIComponent(n[e])+"&"});n=f.substring(0,f.length-1);if(!i||!i["Content-Type"])s.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}s.send(n)}else s.send(null)})}},{}],3:[function(e,t,n){t.exports=function r(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],4:[function(e,t,n){(function(t,r){var i=/%[sdj%]/g;n.format=function(e){if(!E(e)){var t=[];for(var n=0;n<arguments.length;n++){t.push(s(arguments[n]))}return t.join(" ")}var n=1;var r=arguments;var o=r.length;var u=String(e).replace(i,function(e){if(e==="%%")return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}});for(var a=r[n];n<o;a=r[++n]){if(b(a)||!T(a)){u+=" "+a}else{u+=" "+s(a)}}return u};n.deprecate=function(e,i){if(O(r.process)){return function(){return n.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var o=false;function u(){if(!o){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}o=true}return e.apply(this,arguments)}return u};var o={};var u;n.debuglog=function(e){if(O(u))u=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!o[e]){if(new RegExp("\\b"+e+"\\b","i").test(u)){var r=t.pid;o[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else{o[e]=function(){}}}return o[e]};function s(e,t){var r={seen:[],stylize:f};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(v(t)){r.showHidden=t}else if(t){n._extend(r,t)}if(O(r.showHidden))r.showHidden=false;if(O(r.depth))r.depth=2;if(O(r.colors))r.colors=false;if(O(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=a;return c(r,e,r.depth)}n.inspect=s;s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function a(e,t){var n=s.styles[t];if(n){return"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m"}else{return e}}function f(e,t){return e}function l(e){var t={};e.forEach(function(e,n){t[e]=true});return t}function c(e,t,r){if(e.customInspect&&t&&q(t.inspect)&&t.inspect!==n.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(r,e);if(!E(i)){i=c(e,i,r)}return i}var o=p(e,t);if(o){return o}var u=Object.keys(t);var s=l(u);if(e.showHidden){u=Object.getOwnPropertyNames(t)}if(C(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0)){return d(t)}if(u.length===0){if(q(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(j(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(k(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(C(t)){return d(t)}}var f="",v=false,b=["{","}"];if(m(t)){v=true;b=["[","]"]}if(q(t)){var w=t.name?": "+t.name:"";f=" [Function"+w+"]"}if(j(t)){f=" "+RegExp.prototype.toString.call(t)}if(k(t)){f=" "+Date.prototype.toUTCString.call(t)}if(C(t)){f=" "+d(t)}if(u.length===0&&(!v||t.length==0)){return b[0]+f+b[1]}if(r<0){if(j(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var x;if(v){x=g(e,t,r,s,u)}else{x=u.map(function(n){return y(e,t,r,s,n,v)})}e.seen.pop();return h(x,f,b)}function p(e,t){if(O(t))return e.stylize("undefined","undefined");if(E(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(x(t))return e.stylize(""+t,"number");if(v(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,n,r,i){var o=[];for(var u=0,s=t.length;u<s;++u){if(U(t,String(u))){o.push(y(e,t,n,r,String(u),true))}else{o.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){o.push(y(e,t,n,r,i,true))}});return o}function y(e,t,n,r,i,o){var u,s,a;a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(a.get){if(a.set){s=e.stylize("[Getter/Setter]","special")}else{s=e.stylize("[Getter]","special")}}else{if(a.set){s=e.stylize("[Setter]","special")}}if(!U(r,i)){u="["+i+"]"}if(!s){if(e.seen.indexOf(a.value)<0){if(b(n)){s=c(e,a.value,null)}else{s=c(e,a.value,n-1)}if(s.indexOf("\n")>-1){if(o){s=s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{s="\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{s=e.stylize("[Circular]","special")}}if(O(u)){if(o&&i.match(/^\d+$/)){return s}u=JSON.stringify(""+i);if(u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){u=u.substr(1,u.length-2);u=e.stylize(u,"name")}else{u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");u=e.stylize(u,"string")}}return u+": "+s}function h(e,t,n){var r=0;var i=e.reduce(function(e,t){r++;if(t.indexOf("\n")>=0)r++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return n[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]}return n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}n.isArray=m;function v(e){return typeof e==="boolean"}n.isBoolean=v;function b(e){return e===null}n.isNull=b;function w(e){return e==null}n.isNullOrUndefined=w;function x(e){return typeof e==="number"}n.isNumber=x;function E(e){return typeof e==="string"}n.isString=E;function S(e){return typeof e==="symbol"}n.isSymbol=S;function O(e){return e===void 0}n.isUndefined=O;function j(e){return T(e)&&D(e)==="[object RegExp]"}n.isRegExp=j;function T(e){return typeof e==="object"&&e!==null}n.isObject=T;function k(e){return T(e)&&D(e)==="[object Date]"}n.isDate=k;function C(e){return T(e)&&(D(e)==="[object Error]"||e instanceof Error)}n.isError=C;function q(e){return typeof e==="function"}n.isFunction=q;function z(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}n.isPrimitive=z;n.isBuffer=e("./support/isBuffer");function D(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date;var t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))};n.inherits=e("inherits");n._extend=function(e,t){if(!t||!T(t))return e;var n=Object.keys(t);var r=n.length;while(r--){e[n[r]]=t[n[r]]}return e};function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":3,_process:5,inherits:7}],5:[function(e,t,n){var r=t.exports={};var i;var o;function u(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=u}}catch(e){i=u}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=s}}catch(e){o=s}})();function a(e){if(i===setTimeout){return setTimeout(e,0)}if((i===u||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function f(e){if(o===clearTimeout){return clearTimeout(e)}if((o===s||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var l=[];var c=false;var p;var d=-1;function g(){if(!c||!p){return}c=false;if(p.length){l=p.concat(l)}else{d=-1}if(l.length){y()}}function y(){if(c){return}var e=a(g);c=true;var t=l.length;while(t){p=l;l=[];while(++d<t){if(p){p[d].run()}}d=-1;t=l.length}p=null;c=false;f(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new h(e,t));if(l.length===1&&!c){a(y)}};function h(e,t){this.fun=e;this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function m(){}r.on=m;r.addListener=m;r.once=m;r.off=m;r.removeListener=m;r.removeAllListeners=m;r.emit=m;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},{}],6:[function(e,t,n){var r=e("util/");var i=Array.prototype.slice;var o=Object.prototype.hasOwnProperty;var u=t.exports=c;u.AssertionError=function v(e){this.name="AssertionError";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;if(e.message){this.message=e.message;this.generatedMessage=false}else{this.message=f(this);this.generatedMessage=true}var t=e.stackStartFunction||l;if(Error.captureStackTrace){Error.captureStackTrace(this,t)}else{var n=new Error;if(n.stack){var r=n.stack;var i=t.name;var o=r.indexOf("\n"+i);if(o>=0){var u=r.indexOf("\n",o+1);r=r.substring(u+1)}this.stack=r}}};r.inherits(u.AssertionError,Error);function s(e,t){if(r.isUndefined(t)){return""+t}if(r.isNumber(t)&&!isFinite(t)){return t.toString()}if(r.isFunction(t)||r.isRegExp(t)){return t.toString()}return t}function a(e,t){if(r.isString(e)){return e.length<t?e:e.slice(0,t)}else{return e}}function f(e){return a(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+a(JSON.stringify(e.expected,s),128)}function l(e,t,n,r,i){throw new u.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}u.fail=l;function c(e,t){if(!e)l(e,true,t,"==",u.ok)}u.ok=c;u.equal=function b(e,t,n){if(e!=t)l(e,t,n,"==",u.equal)};u.notEqual=function w(e,t,n){if(e==t){l(e,t,n,"!=",u.notEqual)}};u.deepEqual=function x(e,t,n){if(!p(e,t)){l(e,t,n,"deepEqual",u.deepEqual)}};function p(e,t){if(e===t){return true}else if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return false;for(var n=0;n<e.length;n++){if(e[n]!==t[n])return false}return true}else if(r.isDate(e)&&r.isDate(t)){return e.getTime()===t.getTime()}else if(r.isRegExp(e)&&r.isRegExp(t)){return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase}else if(!r.isObject(e)&&!r.isObject(t)){return e==t}else{return g(e,t)}}function d(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function g(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return false;if(e.prototype!==t.prototype)return false;if(r.isPrimitive(e)||r.isPrimitive(t)){return e===t}var n=d(e),o=d(t);if(n&&!o||!n&&o)return false;if(n){e=i.call(e);t=i.call(t);return p(e,t)}var u=m(e),s=m(t),a,f;if(u.length!=s.length)return false;u.sort();s.sort();for(f=u.length-1;f>=0;f--){if(u[f]!=s[f])return false}for(f=u.length-1;f>=0;f--){a=u[f];if(!p(e[a],t[a]))return false}return true}u.notDeepEqual=function E(e,t,n){if(p(e,t)){l(e,t,n,"notDeepEqual",u.notDeepEqual)}};u.strictEqual=function S(e,t,n){if(e!==t){l(e,t,n,"===",u.strictEqual)}};u.notStrictEqual=function O(e,t,n){if(e===t){l(e,t,n,"!==",u.notStrictEqual)}};function y(e,t){if(!e||!t){return false}if(Object.prototype.toString.call(t)=="[object RegExp]"){return t.test(e)}else if(e instanceof t){return true}else if(t.call({},e)===true){return true}return false}function h(e,t,n,i){var o;if(r.isString(n)){i=n;n=null}try{t()}catch(u){o=u}i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:".");if(e&&!o){l(o,n,"Missing expected exception"+i)}if(!e&&y(o,n)){l(o,n,"Got unwanted exception"+i)}if(e&&o&&n&&!y(o,n)||!e&&o){throw o}}u.throws=function(e,t,n){h.apply(this,[true].concat(i.call(arguments)))};u.doesNotThrow=function(e,t){h.apply(this,[false].concat(i.call(arguments)))};u.ifError=function(e){if(e){throw e}};var m=Object.keys||function(e){var t=[];for(var n in e){if(o.call(e,n))t.push(n)}return t}},{"util/":4}],7:[function(e,t,n){if(typeof Object.create==="function"){t.exports=function r(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}}},{}]},{},[1]);