(function e(n,t,r){function i(u,s){if(!t[u]){if(!n[u]){var l=typeof require=="function"&&require;if(!s&&l)return l(u,!0);if(o)return o(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var c=t[u]={exports:{}};n[u][0].call(c.exports,function(e){var t=n[u][1][e];return i(t?t:e)},c,c.exports,e,n,t,r)}return t[u].exports}var o=typeof require=="function"&&require;for(var u=0;u<r.length;u++)i(r[u]);return i})({1:[function(e,n,t){"use strict";var r=e("assert");var i=e("./network.js");var o="https://oneidentity.me";var u='\n    <div id="oneidentity-login-cover"></div>\n    <div id="oneidentity-login">\n        <div id="oneidentity-login-header">\n            <div id="oneidentity-login-header-text">OneIdentity</div>\n        </div>\n        <div id="oneidentity-login-body">\n            <form action="javascript:;">\n                <input type="text" placeholder="Áî®Êà∑Âêç" id="oneidentity-login-username" />\n                <input type="password" placeholder="ÂØÜÁ†Å" id="oneidentity-login-password" />\n                <input type="text" placeholder="ÊâãÊú∫Âè∑" id="oneidentity-login-mobile" />\n                <input type="text" placeholder="Áü≠‰ø°È™åËØÅÁ†Å" id="oneidentity-login-sms-code" />\n                <button id="oneidentity-login-button">ÁôªÂΩï</button>\n                <button id="oneidentity-login-register-button" onclick="window.open(\''+o+"/web/#register')\">Ê≥®ÂÜå</button>\n            </form>\n        </div>\n    </div>\n";var s="\n    #oneidentity-login-cover {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.1);\n        z-index: 100;\n    }\n\n    #oneidentity-login {\n        position: fixed;\n        width: 90%;\n        max-width: 512px;\n        background-color: #FFFFFF;\n        color: #000000;\n        font-family: arial;\n        z-index: 101;\n    }\n    \n    #oneidentity-login-header {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 50px;\n        background-color: #3f51b5;\n        box-shadow: 0 2px 2px 0 rgba(0,0,0,.14);\n        z-index: 201;\n    }\n\n    #oneidentity-login-header-text {\n        position: absolute;\n        top: 0px;\n        left: 10px;\n        line-height: 50px;\n        color: #FFFFFF;\n    }\n\n    #oneidentity-login-body {\n        position: absolute;\n        top: 50px;\n        left: 0px;\n        width: 100%;\n        background-color: #FFFFFF;\n        z-index: 200;\n    }\n\n    #oneidentity-login-body > form {\n        padding: 10px 10px;\n    }\n\n    #oneidentity-login-body > form > input {\n        height: 32px;\n        margin-top: 15px;\n        margin-bottom: 15px;\n        border: none;\n        border-bottom: 1px solid #AAAAAA;\n        display: block;\n        width: 100%;\n    }\n\n    #oneidentity-login-body > form > input:focus {\n        border-bottom: 1px solid #3333FF;\n        outline-width: 0;\n    }\n\n    #oneidentity-login-body > form > button {\n        height: 36px;\n        width: 68px;\n        text-align: center;\n        line-height: 36px;\n        font-size: 14px;\n        border-radius: 2px;\n    }\n\n    #oneidentity-login-button {\n        background-color: #3f51b5;\n        color: #FFFFFF;\n        border: none;\n    }\n\n    #oneidentity-login-button:focus {\n        outline-width: 0;\n    }\n\n    #oneidentity-login-register-button {\n        background-color: #FFFFFF;\n        color: #3f51b5;\n        border: none;\n    }\n\n    #oneidentity-login-register-button:focus {\n        outline-width: 0;\n    }\n";var l=null;var a=null;var c=null;var f=0;function d(e){return window.btoa(unescape(encodeURIComponent(e)))}function p(){return new Promise(function(e){i.makeRequest("POST",o+"/identity/verify/get_client_token").then(function(n){try{n=JSON.parse(n);r(n.err===0);e(n.token)}catch(t){e(null)}}).catch(function(n){return e(null)})})}function g(){i.makeRequest("POST",o+"/identity/user/sms/request",{username:document.getElementById("oneidentity-login-username").value,mobile:document.getElementById("oneidentity-login-mobile").value}).then(function(e){if(e!="OK"){e=JSON.parse(e);alert(e.msg);return}f=2;alert("È™åËØÅÁ†ÅÂ∑≤ÈÄöËøáÁü≠‰ø°ÂèëÈÄÅÂà∞‰Ω†ÁöÑÊâãÊú∫ÔºåÈ¢ÑËÆ°Â∞ÜÂú®‰∏§ÂàÜÈíüÂÜÖÂà∞Ëææ„ÄÇËØ∑Ê≥®ÊÑèÊü•Êî∂„ÄÇ");document.getElementById("oneidentity-login-sms-code").style.display="block"})}function y(e){i.makeRequest("POST",o+"/identity/user/sms/verify_and_login",{username:document.getElementById("oneidentity-login-username").value,password:document.getElementById("oneidentity-login-password").value,smsCode:document.getElementById("oneidentity-login-sms-code").value}).then(function(n){if(n!="OK"){n=JSON.parse(n);alert(n.msg)}else{f=0;e()}})}function m(){f=1;document.getElementById("oneidentity-login-mobile").style.display="block"}function h(e){if(f){switch(f){case 1:return g();case 2:return y(e)}}i.makeRequest("POST",o+"/identity/user/login",{username:document.getElementById("oneidentity-login-username").value,password:document.getElementById("oneidentity-login-password").value}).then(function(n){if(n!="OK"){var t=true;try{n=JSON.parse(n)}catch(r){alert("ÁôªÂΩïÂ§±Ë¥•: "+n);t=false}if(t){if(n.msg=="Security check failed"){m()}else{alert(n.msg)}}}else{return e()}})}function b(e,n){if(!e){if(e===undefined){return p().then(function(e){return b(e,n)})}else{return alert("ÁôªÂΩïÂ§±Ë¥•„ÄÇ")}}l.innerHTML="";document.body.removeChild(a);a=null;n(e)}function v(e){return function(n){return b(n,e)}}function w(e){l=e;return new Promise(function(e,n){l.innerHTML=u;if(a){document.body.removeChild(a)}a=document.createElement("link");a.rel="stylesheet";a.href="data:text/css;base64,"+d(s);document.body.appendChild(a);var t=document.getElementById("oneidentity-login");t.style.top=(window.innerHeight/2-t.scrollHeight/2).toString()+"px";t.style.left=(window.innerWidth/2-t.scrollWidth/2).toString()+"px";document.getElementById("oneidentity-login-mobile").style.display="none";document.getElementById("oneidentity-login-sms-code").style.display="none";document.getElementById("oneidentity-login-button").addEventListener("click",function(){return h(v(e))});p().then(function(n){if(n)v(e)(n)})})}window.oneidentity={login:w}},{"./network.js":2,assert:6}],2:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.makeRequest=i;function i(e,n,t,i){return new Promise(function(o,u){var s=new XMLHttpRequest;s.open(e,n,true);s.withCredentials=true;if(i){for(var l in i){s.setRequestHeader(l,i[l])}}s.onreadystatechange=function(){if(s.readyState==s.DONE){if(s.status<200||s.status>=300){u(s.responseText)}else{o(s.responseText)}}};if(t){if((typeof t==="undefined"?"undefined":r(t))=="object"){var a="";Object.keys(t).forEach(function(e){a+=encodeURIComponent(e)+"="+encodeURIComponent(t[e])+"&"});t=a.substring(0,a.length-1);if(!i||!i["Content-Type"])s.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}s.send(t)}else s.send(null)})}},{}],3:[function(e,n,t){n.exports=function r(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],4:[function(e,n,t){(function(n,r){var i=/%[sdj%]/g;t.format=function(e){if(!E(e)){var n=[];for(var t=0;t<arguments.length;t++){n.push(s(arguments[t]))}return n.join(" ")}var t=1;var r=arguments;var o=r.length;var u=String(e).replace(i,function(e){if(e==="%%")return"%";if(t>=o)return e;switch(e){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch(n){return"[Circular]"}default:return e}});for(var l=r[t];t<o;l=r[++t]){if(v(l)||!j(l)){u+=" "+l}else{u+=" "+s(l)}}return u};t.deprecate=function(e,i){if(S(r.process)){return function(){return t.deprecate(e,i).apply(this,arguments)}}if(n.noDeprecation===true){return e}var o=false;function u(){if(!o){if(n.throwDeprecation){throw new Error(i)}else if(n.traceDeprecation){console.trace(i)}else{console.error(i)}o=true}return e.apply(this,arguments)}return u};var o={};var u;t.debuglog=function(e){if(S(u))u=n.env.NODE_DEBUG||"";e=e.toUpperCase();if(!o[e]){if(new RegExp("\\b"+e+"\\b","i").test(u)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else{o[e]=function(){}}}return o[e]};function s(e,n){var r={seen:[],stylize:a};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(b(n)){r.showHidden=n}else if(n){t._extend(r,n)}if(S(r.showHidden))r.showHidden=false;if(S(r.depth))r.depth=2;if(S(r.colors))r.colors=false;if(S(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=l;return f(r,e,r.depth)}t.inspect=s;s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function l(e,n){var t=s.styles[n];if(t){return"["+s.colors[t][0]+"m"+e+"["+s.colors[t][1]+"m"}else{return e}}function a(e,n){return e}function c(e){var n={};e.forEach(function(e,t){n[e]=true});return n}function f(e,n,r){if(e.customInspect&&n&&q(n.inspect)&&n.inspect!==t.inspect&&!(n.constructor&&n.constructor.prototype===n)){var i=n.inspect(r,e);if(!E(i)){i=f(e,i,r)}return i}var o=d(e,n);if(o){return o}var u=Object.keys(n);var s=c(u);if(e.showHidden){u=Object.getOwnPropertyNames(n)}if(T(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0)){return p(n)}if(u.length===0){if(q(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(F(n)){return e.stylize(RegExp.prototype.toString.call(n),"regexp")}if(k(n)){return e.stylize(Date.prototype.toString.call(n),"date")}if(T(n)){return p(n)}}var a="",b=false,v=["{","}"];if(h(n)){b=true;v=["[","]"]}if(q(n)){var w=n.name?": "+n.name:"";a=" [Function"+w+"]"}if(F(n)){a=" "+RegExp.prototype.toString.call(n)}if(k(n)){a=" "+Date.prototype.toUTCString.call(n)}if(T(n)){a=" "+p(n)}if(u.length===0&&(!b||n.length==0)){return v[0]+a+v[1]}if(r<0){if(F(n)){return e.stylize(RegExp.prototype.toString.call(n),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(n);var x;if(b){x=g(e,n,r,s,u)}else{x=u.map(function(t){return y(e,n,r,s,t,b)})}e.seen.pop();return m(x,a,v)}function d(e,n){if(S(n))return e.stylize("undefined","undefined");if(E(n)){var t="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}if(x(n))return e.stylize(""+n,"number");if(b(n))return e.stylize(""+n,"boolean");if(v(n))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,n,t,r,i){var o=[];for(var u=0,s=n.length;u<s;++u){if(R(n,String(u))){o.push(y(e,n,t,r,String(u),true))}else{o.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){o.push(y(e,n,t,r,i,true))}});return o}function y(e,n,t,r,i,o){var u,s,l;l=Object.getOwnPropertyDescriptor(n,i)||{value:n[i]};if(l.get){if(l.set){s=e.stylize("[Getter/Setter]","special")}else{s=e.stylize("[Getter]","special")}}else{if(l.set){s=e.stylize("[Setter]","special")}}if(!R(r,i)){u="["+i+"]"}if(!s){if(e.seen.indexOf(l.value)<0){if(v(t)){s=f(e,l.value,null)}else{s=f(e,l.value,t-1)}if(s.indexOf("\n")>-1){if(o){s=s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{s="\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{s=e.stylize("[Circular]","special")}}if(S(u)){if(o&&i.match(/^\d+$/)){return s}u=JSON.stringify(""+i);if(u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){u=u.substr(1,u.length-2);u=e.stylize(u,"name")}else{u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");u=e.stylize(u,"string")}}return u+": "+s}function m(e,n,t){var r=0;var i=e.reduce(function(e,n){r++;if(n.indexOf("\n")>=0)r++;return e+n.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return t[0]+(n===""?"":n+"\n ")+" "+e.join(",\n  ")+" "+t[1]}return t[0]+n+" "+e.join(", ")+" "+t[1]}function h(e){return Array.isArray(e)}t.isArray=h;function b(e){return typeof e==="boolean"}t.isBoolean=b;function v(e){return e===null}t.isNull=v;function w(e){return e==null}t.isNullOrUndefined=w;function x(e){return typeof e==="number"}t.isNumber=x;function E(e){return typeof e==="string"}t.isString=E;function O(e){return typeof e==="symbol"}t.isSymbol=O;function S(e){return e===void 0}t.isUndefined=S;function F(e){return j(e)&&I(e)==="[object RegExp]"}t.isRegExp=F;function j(e){return typeof e==="object"&&e!==null}t.isObject=j;function k(e){return j(e)&&I(e)==="[object Date]"}t.isDate=k;function T(e){return j(e)&&(I(e)==="[object Error]"||e instanceof Error)}t.isError=T;function q(e){return typeof e==="function"}t.isFunction=q;function z(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}t.isPrimitive=z;t.isBuffer=e("./support/isBuffer");function I(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var e=new Date;var n=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],n].join(" ")}t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))};t.inherits=e("inherits");t._extend=function(e,n){if(!n||!j(n))return e;var t=Object.keys(n);var r=t.length;while(r--){e[t[r]]=n[t[r]]}return e};function R(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":3,_process:5,inherits:7}],5:[function(e,n,t){var r=n.exports={};var i;var o;function u(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=u}}catch(e){i=u}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=s}}catch(e){o=s}})();function l(e){if(i===setTimeout){return setTimeout(e,0)}if((i===u||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(n){try{return i.call(null,e,0)}catch(n){return i.call(this,e,0)}}}function a(e){if(o===clearTimeout){return clearTimeout(e)}if((o===s||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(n){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}var c=[];var f=false;var d;var p=-1;function g(){if(!f||!d){return}f=false;if(d.length){c=d.concat(c)}else{p=-1}if(c.length){y()}}function y(){if(f){return}var e=l(g);f=true;var n=c.length;while(n){d=c;c=[];while(++p<n){if(d){d[p].run()}}p=-1;n=c.length}d=null;f=false;a(e)}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1){for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}}c.push(new m(e,n));if(c.length===1&&!f){l(y)}};function m(e,n){this.fun=e;this.array=n}m.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function h(){}r.on=h;r.addListener=h;r.once=h;r.off=h;r.removeListener=h;r.removeAllListeners=h;r.emit=h;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},{}],6:[function(e,n,t){var r=e("util/");var i=Array.prototype.slice;var o=Object.prototype.hasOwnProperty;var u=n.exports=f;u.AssertionError=function b(e){this.name="AssertionError";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;if(e.message){this.message=e.message;this.generatedMessage=false}else{this.message=a(this);this.generatedMessage=true}var n=e.stackStartFunction||c;if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{var t=new Error;if(t.stack){var r=t.stack;var i=n.name;var o=r.indexOf("\n"+i);if(o>=0){var u=r.indexOf("\n",o+1);r=r.substring(u+1)}this.stack=r}}};r.inherits(u.AssertionError,Error);function s(e,n){if(r.isUndefined(n)){return""+n}if(r.isNumber(n)&&!isFinite(n)){return n.toString()}if(r.isFunction(n)||r.isRegExp(n)){return n.toString()}return n}function l(e,n){if(r.isString(e)){return e.length<n?e:e.slice(0,n)}else{return e}}function a(e){return l(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+l(JSON.stringify(e.expected,s),128)}function c(e,n,t,r,i){throw new u.AssertionError({message:t,actual:e,expected:n,operator:r,stackStartFunction:i})}u.fail=c;function f(e,n){if(!e)c(e,true,n,"==",u.ok)}u.ok=f;u.equal=function v(e,n,t){if(e!=n)c(e,n,t,"==",u.equal)};u.notEqual=function w(e,n,t){if(e==n){c(e,n,t,"!=",u.notEqual)}};u.deepEqual=function x(e,n,t){if(!d(e,n)){c(e,n,t,"deepEqual",u.deepEqual)}};function d(e,n){if(e===n){return true}else if(r.isBuffer(e)&&r.isBuffer(n)){if(e.length!=n.length)return false;for(var t=0;t<e.length;t++){if(e[t]!==n[t])return false}return true}else if(r.isDate(e)&&r.isDate(n)){return e.getTime()===n.getTime()}else if(r.isRegExp(e)&&r.isRegExp(n)){return e.source===n.source&&e.global===n.global&&e.multiline===n.multiline&&e.lastIndex===n.lastIndex&&e.ignoreCase===n.ignoreCase}else if(!r.isObject(e)&&!r.isObject(n)){return e==n}else{return g(e,n)}}function p(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function g(e,n){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(n))return false;if(e.prototype!==n.prototype)return false;if(r.isPrimitive(e)||r.isPrimitive(n)){return e===n}var t=p(e),o=p(n);if(t&&!o||!t&&o)return false;if(t){e=i.call(e);n=i.call(n);return d(e,n)}var u=h(e),s=h(n),l,a;if(u.length!=s.length)return false;u.sort();s.sort();for(a=u.length-1;a>=0;a--){if(u[a]!=s[a])return false}for(a=u.length-1;a>=0;a--){l=u[a];if(!d(e[l],n[l]))return false}return true}u.notDeepEqual=function E(e,n,t){if(d(e,n)){c(e,n,t,"notDeepEqual",u.notDeepEqual)}};u.strictEqual=function O(e,n,t){if(e!==n){c(e,n,t,"===",u.strictEqual)}};u.notStrictEqual=function S(e,n,t){if(e===n){c(e,n,t,"!==",u.notStrictEqual)}};function y(e,n){if(!e||!n){return false}if(Object.prototype.toString.call(n)=="[object RegExp]"){return n.test(e)}else if(e instanceof n){return true}else if(n.call({},e)===true){return true}return false}function m(e,n,t,i){var o;if(r.isString(t)){i=t;t=null}try{n()}catch(u){o=u}i=(t&&t.name?" ("+t.name+").":".")+(i?" "+i:".");if(e&&!o){c(o,t,"Missing expected exception"+i)}if(!e&&y(o,t)){c(o,t,"Got unwanted exception"+i)}if(e&&o&&t&&!y(o,t)||!e&&o){throw o}}u.throws=function(e,n,t){m.apply(this,[true].concat(i.call(arguments)))};u.doesNotThrow=function(e,n){m.apply(this,[false].concat(i.call(arguments)))};u.ifError=function(e){if(e){throw e}};var h=Object.keys||function(e){var n=[];for(var t in e){if(o.call(e,t))n.push(t)}return n}},{"util/":4}],7:[function(e,n,t){if(typeof Object.create==="function"){n.exports=function r(e,n){e.super_=n;e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{n.exports=function i(e,n){e.super_=n;var t=function(){};t.prototype=n.prototype;e.prototype=new t;e.prototype.constructor=e}}},{}]},{},[1]);